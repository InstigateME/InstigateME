# Project Brief — GameCenter (Vue 3 + Vite)

## Цель проекта

Создать веб-приложение "GameCenter" с поддержкой P2P взаимодействия игроков (WebRTC/Peer), лобби, выбора режима и
игрового поля. Фокус — надежная синхронизация состояния игры между участниками, миграция хоста, простота подключения,
тестируемость (unit + e2e), и быстрый дев-сетап на Vite.

## Основные требования

- SPA на Vue 3 + TypeScript.
- Глобальное состояние через Pinia.
- Маршрутизация (Vue Router).
- P2P соединения участников (peerService) с возможностью выбора/создания лобби.
- Экран(ы): MainMenu, Lobby, GameField.
- Типы игры в src/types/game.ts для строгой типизации.
- Тестирование: Vitest (unit) и Playwright (e2e).
- Сборка/дев-сервер: Vite.

## Пользовательские сценарии (MVP)

1. Пользователь открывает приложение и попадает в MainMenu.
2. Создает или подключается к лобби (Lobby).
3. После старта — попадает в GameField, взаимодействует с игровым процессом.
4. При потере хоста — срабатывает миграция хоста (hostMigration), игра продолжает работать.
5. Возможность вернуться в меню/выйти из лобби.

## Ограничения и допущения

- В рамках MVP — простой геймплей и минимальная UI/анимация.
- P2P транспорт — абстрагирован через services/peerService, используется PeerJS библиотека.
- Сеть ненадежна: важна обработка отключений и повторных подключений с минимальным времененм простоя.
- Хранение критичных данных — в store, синхронизация по событиям, все клиенты хранят состояние и при потере хоста способны восставновить состояние игры.

## Критерии готовности MVP

- Стабильная навигация между экранами.
- Рабочее соединение между минимум 2 участниками с передачей базовых игровых событий.
- Обработана миграция хоста.
- Базовые тесты: unit на ключевые сторы/утилиты и один сквозной e2e.
